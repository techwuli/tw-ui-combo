!function(){"use strict";angular.module("tw.ui.combo",["ngMaterial"]).directive("twUiCombo",["$timeout","$compile","$document",function(o,t,i){var n=["$scope",function(o){console.log(o.twUiComboOptions),console.log(o.twUiComboSelected)}],e=function(n,e,l,a){var c,m=n.twUiComboDelay||500,r=n.twUiComboMinLength||2,u=angular.element('<div class="tw-ui-combo-container" />');e.parent(u);var s=angular.element('<div class="tw-ui-combo-placeholder" />');e.after(s),e.on("focus",function(){s.addClass("tw-ui-combo-show")}),e.on("blur",function(){s.removeClass("tw-ui-combo-show"),console.log(i[0].activeElement)}),n.$watch(function(){return a.$modelValue},function(i){i&&i.length>=r?(o.cancel(c),c=o(function(){console.log(i);var o=[];if(angular.forEach(n.twUiComboOptions,function(t){t.name.indexOf(i)>-1&&o.push(t)}),0===o.length)return void s.empty();var e='<div class="tw-ui-combo-options md-whiteframe-z1" />',l=angular.element(e);angular.forEach(o,function(o){var i=n.twUiComboOptionTitle?o[n.twUiComboOptionTitle]:o,e=n.twUiComboOptionCaption?o[n.twUiComboOptionCaption]:"",a='<div class="tw-ui-combo-item"><div class="md-title">'+i+"</div>";e&&(a+='<div class="md-caption">'+e+"</div>"),a+="</div>";var c=angular.element(a);c.on("click",function(){n.twUiComboSelected(o)}),t(c,n),l.append(c)}),t(l,n),s.empty(),s.append(l)},m)):(o.cancel(c),s.empty())})};return{require:"ngModel",restrict:"A",controller:n,link:e,scope:{twUiComboOptions:"=",twUiComboSelected:"=",twUiComboDelay:"@",twUiComboMinLength:"@",twUiComboOptionTitle:"@",twUiComboOptionCaption:"@"},template:""}}])}();